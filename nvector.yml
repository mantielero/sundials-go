---
GENERATOR:
  PackageName: nvector
  PackageDescription: "Sundial's nvector-serial"
  PackageLicense: "THE AUTOGENERATED LICENSE. ALL THE RIGHTS ARE RESERVED BY ROBOTS."
  #PkgConfigOpts:
  #  - sundials
  FlagGroups:
    #- {name: "LDFLAGS", flags: [ "-l:libsundials_nvecserial.so", "-L/usr/lib"]}
    - {name: "LDFLAGS", flags: ["-lsundials_nvecserial", "-L/usr/lib"]}   #-rpath=/home/user/.usr/lib
  SysIncludes: #["../sundials-master/include/nvector/nvector_serial.h", "../sundials-master/include/sundials/sundials_nvector.h"] # This gets included in cgo_helpers.go
    - stdio.h
    - sundials/sundials_types.h
    - sundials/sundials_nvector.h
    #- sundials/sundials_fnvector.h    
    - nvector/nvector_serial.h
    - sundials/sundials_math.h
  Options:
    SafeStrings: true

PARSER:
  IncludePaths: ["/usr/include", "/usr/lib/gcc/x86_64-pc-linux-gnu/8.2.1/include/"]
  SourcesPaths:
    - "/usr/include/sundials/sundials_types.h"
    - "/usr/include/nvector/nvector_serial.h"
    - "/usr/include/sundials/sundials_math.h"
    #- "<sundials/sundials_types.h>"
    #- "<nvector/nvector_serial.h>"
    #- "<sundials/sundials_math.h>"

  #SourcesPaths: [ "./sundials-master/include/nvector/nvector_serial.h", "./sundials-master/include/sundials/sundials_nvector.h"] #"sundials-master/include/nvector/nvector_mpiraja.h", "sundials-master/include/nvector/nvector_openmpdev.h", "sundials-master/include/nvector/nvector_openmp.h",]

TRANSLATOR:
  ConstRules:
    defines: eval
    enums: eval

  #TypeTips:
  #  function:
  #    - {target: "^opus_", self: plain, tips: [plain,plain,plain,plain,plain]}
  #PtrTips:
  #  function:
  #    - {target: "^fmi2_set_debug_logging", tips: [0,0,size,arr] }
      #- {target: "_encoder_create$", tips: [0,0,0,ref]}
      #- {target: "_decoder_create$", tips: [0,0,ref]}
      #- {target: "_multistream_packet_unpad$", tips: [0,size,0]}
      #- {target: "_multistream_packet_pad$", tips: [0,size,size,0]}
      #- {target: "_packet_unpad$", tips: [0,size]}
      #- {target: "_packet_pad$", tips: [0,size,size]}
      #- {target: "_pcm_soft_clip$", tips: [arr,0,0,arr]}
      #- {target: ^opus_, tips: [ref]}
  Rules:
    global:
      #- {transform: title}
      - {action: accept, from: "^N_V"}
      - {action: accept, from: "^SUNDIALS"}
      - {action: accept, from: "^SUN"}
      - {action: accept, from: "^RCONST"}
      - {action: accept, from: "^nv"}
      - {transform: export}
    #function:
    #  - {action: ignore, from: "fmi2_default_callback_logger"} #variadic
    #  - {action: ignore, from: "fmi2_log_forwarding"}  # variadic
    #  - {action: ignore, from: "jm_log"} # variadic
    #  - {action: ignore, from: "_encoder_ctl"} # variadic
    #  - {action: ignore, from: "_decoder_ctl"} # variadic
    #  - {action: ignore, from: "_packet_parse"} # internal

    const:
      - {action: accept, from: "^SUN"}
      - {action: ignore, from: "^SUNDIALS_MPI_COMM_F2C"}
      - {action: accept, from: "^BIG"}
      - {action: accept, from: "^NV"}
      - {action: accept, from: "^N_V"}
      - {action: accept, from: "^SMALL"}
      - {action: accept, from: "^UNIT"}
      - {action: accept, from: "^_SUNDIALSMATH"}
      - {action: accept, from: "^_g"}
      - {transform: export}

    type:
      - {action: accept, from: "^_N"}
      - {action: accept, from: "^_g"}
      - {action: accept, from: "^FILE"}
      - {action: accept, from: "^N_V"}
      - {action: accept, from: "^sunindextype"}
      - {action: accept, from: "^realtype"}
      - {action: accept, from: "^booleantype"}
      #- {action: accept, from: "^C"}
      #- {action: accept, from: "^SUNMatrix"}
      #- {action: replace, from: "_t$"}
    private:
      - {transform: unexport}
    post-global:
      - {action: replace, from: _$}
      - {load: snakecase}
